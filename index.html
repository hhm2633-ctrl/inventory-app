<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>솔리드옴므 아울렛 재고 조회</title>

<meta name="theme-color" content="#0b0f14" />
<link rel="manifest" href="manifest.webmanifest" />
<link rel="icon" sizes="192x192" href="icons/icon-192.png" />
<link rel="apple-touch-icon" href="icons/icon-192.png" />

<style>
  :root { --card:#121820cc; --muted:#7a8593; --fg:#e8eef6; --accent:#5bbcff; }
  html,body {
    margin:0; padding:0;
    color:var(--fg);
    font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;
    min-height:100vh;
    background:url("031.jpg") center/cover no-repeat fixed;
  }
  body::before {
    content:"";
    position:fixed; inset:0;
    background:rgba(0,0,0,0.6);
    z-index:-1;
  }
  header {
    padding:16px 20px;
    display:flex; gap:12px; align-items:center; flex-wrap:wrap; justify-content:space-between;
    border-bottom:1px solid rgba(255,255,255,0.1);
    backdrop-filter:blur(6px);
  }
  header h1 { margin:0; font-size:20px; letter-spacing:.2px; font-weight:600; }
  .pills { display:flex; gap:8px; flex-wrap:wrap; }
  .pill { background:#0f1620b0; border:1px solid #233042; padding:8px 12px; border-radius:100px; color:#cfe1ff; text-decoration:none; }
  .pill:hover { background:#1c2738; }
  .container { padding:16px; display:grid; gap:16px; max-width:980px; margin:0 auto; }
  .card { background:var(--card); border:1px solid rgba(255,255,255,0.08); border-radius:14px; padding:14px; backdrop-filter:blur(8px); }
  .card h2 { margin:0 0 10px 0; font-size:16px; }
  .row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .search { width:100%; padding:12px 14px; border-radius:10px; border:1px solid #273547; background:#0f1620b0; color:var(--fg); }
  .btn { background:linear-gradient(180deg,#1c2735,#151e2a); border:1px solid #273547; color:#d9e7ff; padding:8px 12px; border-radius:10px; cursor:pointer; text-decoration:none; }
  .badge { display:inline-block; padding:4px 8px; border-radius:9px; font-size:12px; border:1px solid #2a3950; color:#cfe8ff; }
  .ok { background:#12321f; border-color:#1f5c37; color:#c6ffdf; }
  .warn { background:#33240f; border-color:#6b4b17; color:#ffe1b8; }
  .incoming { background:#1e2240; border-color:#3d4aac; color:#d2d8ff; }
  .product { display:grid; gap:12px; border:1px solid rgba(255,255,255,0.1); border-radius:12px; padding:12px; background:#0b111acc; }
  .product-head { display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; }
  .title { font-size:16px; font-weight:700; font-family:ui-monospace,Menlo,Consolas,monospace; }
  .controls { display:flex; gap:8px; align-items:center; }
  .select { padding:8px 10px; border-radius:10px; border:1px solid #273547; background:#0f1620; color:var(--fg); }
  .sizes { display:grid; gap:6px; }
  .size-row { display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px 10px; border:1px solid #223044; border-radius:10px; background:#0f1620b0; }
  .size-left { display:flex; gap:10px; align-items:center; }
  .size-chip { min-width:40px; text-align:center; border:1px solid #314257; border-radius:8px; padding:4px 8px; color:#dfe9ff; }
  .ads { background:#0f1620b0; border:1px dashed #243349; border-radius:12px; padding:14px; color:#9eb0c8; text-align:center; }
  footer { margin:24px auto; max-width:980px; padding:12px 16px; color:#9fb1c8; border-top:1px solid rgba(255,255,255,0.1); display:flex; gap:12px; flex-wrap:wrap; justify-content:space-between; font-size:13px; }
  footer a { color:#9fbef6; text-decoration:none; }
  footer a:hover { text-decoration:underline; }
</style>
</head>
<body>
  <header>
    <h1>솔리드옴므 아울렛 재고 조회</h1>
    <div class="pills">
      <a class="pill" href="tel:0221369886">매장 전화연결</a>
      <a class="pill" href="https://center-pf.kakao.com/_EfjEj/chats" target="_blank" rel="noopener">카카오채널 연결</a>
    </div>
  </header>

  <div class="container">
    <div class="card">
      <h2>검색</h2>
      <div class="row">
        <input id="q" class="search" placeholder="예: s243ts26, 로고 티셔츠…" />
      </div>
    </div>

    <div class="card">
      <h2>재고 결과</h2>
      <div id="results" class="grid" style="display:grid; gap:12px;"></div>
      <div id="nores" style="display:none; color:#9fb1c8;">검색 결과가 없습니다.</div>
      <div style="height:10px"></div>
      <div style="color:#9fb1c8;">※ “주문” 버튼은 Google Forms로 이동하며, 상품정보가 자동으로 채워집니다.</div>
    </div>

    <div class="card">
      <div class="ads" id="ad-placeholder">
        [광고 영역] 커스텀 도메인 연결 + AdSense 승인 후 스크립트를 여기에 붙이면 노출됩니다.
      </div>
    </div>
  </div>

  <footer>
    <div>© SOLID HOMME Outlet · 재고 조회/주문 문의</div>
    <div style="display:flex; gap:12px; flex-wrap:wrap;">
      <a href="./about.html">브랜드 소개</a>
      <a href="./privacy.html">개인정보처리방침</a>
      <a href="tel:0221369886">매장 전화연결</a>
      <a href="https://center-pf.kakao.com/_EfjEj/chats" target="_blank" rel="noopener">카카오채널 연결</a>
    </div>
  </footer>

<script>
const JSON_URL = "./inventory.json";
const nz = (v)=> (v==null?"":String(v).trim());
function badgeClass(st){ if(st==="주문가능")return"badge ok"; if(nz(st).startsWith("입고 예정"))return"badge incoming"; if(st==="품절임박")return"badge warn"; return"badge";}
function buildOrderLink(r){const u=new URL("https://docs.google.com/forms/d/e/FORM_ID/viewform");u.searchParams.set("usp","pp_url");u.searchParams.set("entry.1111111111",r["상품코드"]);u.searchParams.set("entry.2222222222",r["품명"]);u.searchParams.set("entry.3333333333",r["색상"]);u.searchParams.set("entry.4444444444",r["사이즈"]);u.searchParams.set("entry.5555555555","1");return u.toString();}
let ALL_ROWS=[];let GROUPS=[];let VIEW_LIST=[];
async function loadData(){try{const r=await fetch(JSON_URL,{cache:"no-store"});const d=await r.json();ALL_ROWS=Array.isArray(d.rows)?d.rows:[]}catch{ALL_ROWS=[]}buildGroups();applySearch("")}
function buildGroups(){const byCode=new Map();for(const r of ALL_ROWS){const code=nz(r["상품코드"]);if(!code)continue;const name=nz(r["품명"]);const color=nz(r["색상"]);if(!byCode.has(code))byCode.set(code,{code,name,colors:new Map()});const g=byCode.get(code);if(!g.colors.has(color))g.colors.set(color,[]);g.colors.get(color).push(r)}GROUPS=Array.from(byCode.values()).map(g=>{const colors=Array.from(g.colors.entries()).map(([c,i])=>({color:c,items:i}));return{code:g.code,name:g.name,colors}});}
function render(){const root=document.getElementById("results");const empty=document.getElementById("nores");root.innerHTML="";if(!VIEW_LIST.length){empty.style.display="block";return;}empty.style.display="none";for(const prod of VIEW_LIST){const wrap=document.createElement("div");wrap.className="product";const head=document.createElement("div");head.className="product-head";const left=document.createElement("div");left.innerHTML=`<div class="title">${nz(prod.code)}</div>`;const right=document.createElement("div");right.className="controls";const sel=document.createElement("select");sel.className="select";for(const c of prod.colors){const o=document.createElement("option");o.value=c.color;o.textContent=c.color||"(색상없음)";sel.appendChild(o);}right.appendChild(sel);head.appendChild(left);head.appendChild(right);wrap.appendChild(head);const sizes=document.createElement("div");sizes.className="sizes";wrap.appendChild(sizes);function draw(color){sizes.innerHTML="";const col=prod.colors.find(c=>c.color===color)||prod.colors[0];for(const r of(col?.items||[])){const line=document.createElement("div");line.className="size-row";const l=document.createElement("div");l.className="size-left";const chip=document.createElement("div");chip.className="size-chip";chip.textContent=nz(r["사이즈"])||"-";const b=document.createElement("span");b.className=badgeClass(nz(r["상태"]));b.textContent=nz(r["상태"]);l.appendChild(chip);l.appendChild(b);const order=document.createElement("a");order.className="btn";order.target="_blank";order.rel="noopener";order.textContent="주문";order.href=buildOrderLink(r);line.appendChild(l);line.appendChild(order);sizes.appendChild(line)}}sel.addEventListener("change",e=>draw(e.target.value));draw(sel.value||prod.colors[0]?.color||"");root.appendChild(wrap);}}
function applySearch(q){const qq=nz(q).toLowerCase();VIEW_LIST=GROUPS.filter(g=>nz(g.code).toLowerCase().includes(qq)||nz(g.name).toLowerCase().includes(qq));render();}
document.getElementById("q").addEventListener("input",e=>applySearch(e.target.value));
loadData();
</script>
</body>
</html>
